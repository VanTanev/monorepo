# /lefthook.yaml

post-checkout:
  scripts:
    "pnpm-install-on-branch-switch.sh":
      runner: "bash"

post-rewrite:
  scripts:
    # Run `pnpm install` on:
    # - git rebase <origin/master>
    "pnpm-install-on-rebase.sh":
      runner: "bash"

post-merge:
  scripts:
    # Run `pnpm install` on:
    # - git merge <branch>
    # - git pull <origin master>
    "pnpm-install-on-merge.sh":
      runner: "bash"

pre-commit:
  parallel: true
  commands:
    "auto-format files on commit":
      run: "./node_modules/.bin/pretty-quick --staged"
    "check for unused files, exports and dependencies":
      run: "./node_modules/.bin/knip"
